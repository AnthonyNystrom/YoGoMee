<html>
<body>
<p><!-- Yes this header is ugly...  Just ignore it please.  --></p>
<p><html><head>
<link rel="STYLESHEET" type="text/css" href="simple.css">
<title>bsddb3 Python documentation</title>
</head>
<body background="images/wavback.jpg">
<table><tr><td><img src="images/spacer.gif" width=80></td><td></p>
<h1>Berkeley DB 3.x & 4.x Python Extension Package</h1>
<h2>  Introduction</h2>
<p>    This is a simple bit of documentation for the bsddb3.db Python
    extension module which wraps the Berkeley DB 3.x or 4.x C library.
    The extension module is located in a Python package along with a few
    pure python modules.</p>
<p>    It is expected that this module will be used in the following
    general ways by different programmers in different situations.
    The goals of this module are to allow all of these methods without
    making things too complex for the simple cases, and without
    leaving out funtionality needed by the complex cases.</p>

<ol>
<li> <strong>Backwards compatibility</strong> -- It is desirable for this package
         to be a near drop-in replacement for the bsddb module shipped
         with Python which is designed to wrap either DB 1.85, or the
         1.85 compatibility interface. This means that there will need
         to be equivalent object creation functions available,
         (btopen(), hashopen(), and rnopen()) and the objects returned
         will need to have the same or at least similar methods
         available, (specifically, first(), last(), next(), and prev()
         will need to be available without the user needing to
         explicitly use a cursor.)  All of these have been implemented
         in Python code in the bsddb3.__init__.py module.</li>
<li> <strong>Simple persistent dictionary</strong> -- One small step beyond the
         above.  The programmer may be aware of and use the new DB
         object type directly, but only needs it from a single process
         and thread.  The programmer should not have to be bothered
         with using a DBEnv, and the DB object should behave as much
         like a dictionary as possible.</li>
<li> <strong>Concurrent access dictionaries</strong> -- This refers to the
         ability to simultaneously have one writer and multiple
         readers of a DB (either in multiple threads or processes) and
         is implemented simply by creating a DBEnv with certain flags.
         No extra work is required to allow this access mode in
         bsddb3.</li>
<li> <strong>Advanced transactional data store</strong> -- This mode of use is
         where the full capabilities of the Berkeley DB library are
         called into action.  The programmer will probably not use the
         dictionary access methods as much as the regular methods of
         the DB object, so he can pass transaction objects to the
         methods.  Again, most of this advanced functionality is
         activated simply by opening a DBEnv with the proper flags,
         and also by using transactions and being aware of and
         reacting to deadlock exceptions, etc.</li>

</ol>
<h2>  Types Provided</h2>
<h3>    The bsddb3.db extension module provides the following object types:</h3>

<ul>
<li><strong>DB</strong>: The basic database object, capable of Hash, BTree,
                Recno, and Queue access methods.</li>
<li><strong>DBEnv</strong>: Provides a Database Environment for more advanced
                   database use.  Apps using transactions, logging,
                   concurrent access, etc. will need to have an
                   environment object.</li>
<li><strong>DBCursor</strong>: A pointer-like object used to traverse a
                      database.</li>
<li><strong>DBTxn</strong>: A database transaction.  Allows for multi-file
                   commit, abort and checkpoint of database
                   modifications.</li>
<li><strong>DBLock</strong>: An opaque handle for a lock. See DBEnv.lock_get()
                    and DBEnv.lock_put().  Locks are not necessarily
                    associated with anything in the database, but can
                    be used for any syncronization task across all
                    threads and processes that have the DBEnv open.</li>

</ul>
<h2>  Exceptions Provided</h2>
<p>    The BerkeleyDB C API uses function return codes to signal various
    errors.  The bsddb3.db module checks for these error codes and
    turns them into Python exceptions, allowing you to use familiar
    try:... except:... constructs and not have to bother with checking
    every method's return value.</p>
<p>    Each of the error codes is turned into an exception specific to
    that error code, as outlined in the table below.  If you are using
    the C API documentation then it is very easy to map the error
    return codes specified there to the name of the Python exception
    that will be raised.  Simply refer to the table below.</p>
<p>    Each exception derives from the DBError exception class so if you
    just want to catch generic errors you can use DBError to do it.
    Since DBNotFoundError is raised when a given key is not found in
    the database, DBNotFoundError also derives from the standard
    KeyError exception to help make a DB look and act like a
    dictionary.</p>
<p>    When any of these exceptions is raised, the associated value is a
    tuple containing an integer representing the error code and a
    string for the error message itself.</p>
<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBError</strong>               </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Base class, all others derive from this   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBIncompleteError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_INCOMPLETE                             </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBKeyEmptyError</strong>       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_KEYEMPTY                               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBKeyExistError</strong>       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_KEYEXIST                               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBLockDeadlockError</strong>   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_LOCK_DEADLOCK                          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBLockNotGrantedError</strong> </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_LOCK_NOTGRANTED                        </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNotFoundError</strong>       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_NOTFOUND (also derives from KeyError)  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBOldVersionError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_OLD_VERSION                            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBRunRecoveryError</strong>    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_RUNRECOVERY                            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBVerifyBadError</strong>      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_VERIFY_BAD                             </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoServerError</strong>       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_NOSERVER                               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoServerHomeError</strong>   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_NOSERVER_HOME                          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoServerIDError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  DB_NOSERVER_ID                            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBInvalidArgError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EINVAL                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBAccessError</strong>         </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EACCES                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoSpaceError</strong>        </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  ENOSPC                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoMemoryError</strong>       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  ENOMEM                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBAgainError</strong>          </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EAGAIN                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBBusyError</strong>           </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EBUSY                                     </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBFileExistsError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EEXIST                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBNoSuchFileError</strong>     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  ENOENT                                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> <strong>DBPermissionsError</strong>    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  EPERM                                     </p>
</td>
</tr>
</table>
<h2>  Other Package Modules</h2>

<ul>
<li><strong>dbshelve.py</strong>: This is an implementation of the standard
          Python shelve concept for storing objects that uses bsddb3
          specifically, and also exposes some of the more advanced
          methods and capabilities of the underlying DB.</li>
<li><strong>dbtables.py</strong>: This is a module by Gregory Smith that
          implements a simplistic table structure on top of a DB.</li>
<li><strong>dbutils.py</strong>: A catch-all for python code that is generally
          useful when working with DB's</li>
<li><strong>dbobj.py</strong>: Contains subclassable versions of DB and DBEnv.</li>
<li><strong>dbrecio.py</strong>: Contains the DBRecIO class that can be used to
          do partial reads and writes from a DB record using a
          file-like interface. Contributed by Itamar Shtull-Trauring.</li>

</ul>
<h2>  Testing</h2>
<p>    A full unit test suite is being developed to exercise the various
    object types, their methods and the various usage modes described
    in the introduction.  <a href="http://pyunit.sourceforge.net/">PyUnit</a> is
    used and the tests are structured such that they can be run
    unattended and automated.  There are currently over 150 test cases!</p>
<h2>  Reference</h2>
<p>    See the C language API <a href="http://www.oracle.com/technology/documentation/berkeley-db/db/index.html">online
    documentation</a> on
    Oracle's website (or the <a href="api_c/c_index.html">local copy</a> ) for more
    details of the functionality of each of these methods.  The names
    of all the Python methods should be the same or similar to the
    names in the C API.</p>
<p>    This version of the documentation was originally based on Berkeley
    DB 3.3.  If you build the module with a different version of
    Berkeley DB then the items below and in the Oracle Berkeley DB docs may not
    be entirely accurate.  Refer to the <a href="http://www.oracle.com/technology/documentation/berkeley-db/db/index.html">Oracle Berkeley DB
    documentation</a> for true details.</p>
<p>    <strong>NOTE:</strong> All the methods shown below having more than one keyword
    argument are actually implemented using keyword argument parsing,
    so you can use keywords to provide optional parameters as
    desired.  Those that have only a single optional argument are
    implemented without keyword parsing to help keep the
    implementation simple.  If this is too confusing let me know and
    I'll think about using keywords for everything.</p>
<h3>    DBEnv Attributes</h3>
<dl>
<dt>        db_home</dt>
<dd>database home directory (read-only)</dd>
</dl>
<h3>    DBEnv Methods</h3>
<dl>
<dt>        DBEnv(flags=0):</dt>
<dd>Constructor
                <a href="api_c/env_create.html">More info...</a></dd>
<dt>        close(flags=0):</dt>
<dd>Close the database environment, freeing resources.
                <a href="api_c/env_close.html">More info...</a></dd>
<dt>        open(homedir, flags=0, mode=0660):</dt>
<dd>Prepare the database environment for use.
                <a href="api_c/env_open.html">More info...</a></dd>
<dt>        remove(homedir, flags=0):</dt>
<dd>Remove a database environment.
                <a href="api_c/env_remove.html">More info...</a></dd>
<dt>        set_cachesize(gbytes, bytes, ncache=0):</dt>
<dd>Set the size of the shared memory buffer pool
                <a href="api_c/env_set_cachesize.html">More info...</a></dd>
<dt>        set_data_dir(dir):</dt>
<dd>Set the environment data directory
                <a href="api_c/env_set_data_dir.html">More info...</a></dd>
<dt>        set_flags(flags, onoff):</dt>
<dd>Set additional flags for the DBEnv.  The onoff
                parameter specifes if the flag is set or cleared.
                <a href="api_c/env_set_flags.html">More info...</a></dd>
<dt>        set_tmp_dir(dir):</dt>
<dd>Set the directory to be used for temporary files
                <a href="api_c/env_set_tmp_dir.html">More info...</a></dd>
<dt>        set_get_returns_none(flag):</dt>
<dd>By default when DB.get or DBCursor.get, get_both,
                first, last, next or prev encounter a DB_NOTFOUND
                error they return None instead of raising DBNotFoundError.
                This behaviour emulates Python dictionaries and is
                convenient for looping.<p>                You can use this method to toggle that behaviour for
                all of the aformentioned methods or extend it to also
                apply to the DBCursor.set, set_both, set_range, and
                set_recno methods.  Supported values of flag:</p>

<ul>
<li><strong>0</strong> all DB and DBCursor get and set methods will
                  raise a DBNotFoundError rather than returning None.</li>
<li><strong>1</strong> <em>Default in module version &lt;4.2.4.</em> The DB.get
                  and DBCursor.get, get_both, first, last, next and
                  prev methods return None.</li>
<li><strong>2</strong> <em>Default in module version &gt;=4.2.4.</em>Extends the
                  behaviour of <strong>1</strong> to the DBCursor set, set_both,
                  set_range and set_recno methods.</li>

</ul>
<p>                The default of returning None makes it easy to do
                things like this without having to catch DBNotFoundError
                (KeyError):
<pre>
                    data = mydb.get(key)
                    if data:
                        doSomething(data)
</pre>
</p>
<p>                or this:
<pre>
                    rec = cursor.first()
                    while rec:
                        print rec
                        rec = cursor.next()
</pre>
</p>
<p>                Making the cursor set methods return None is useful
                in order to do this:
<pre>
                    rec = mydb.set()
                    while rec:
                        key, val = rec
                        doSomething(key, val)
                        rec = mydb.next()
</pre>
</p>
<p>                The downside to this it that it is inconsistent with
                the rest of the package and noticeably diverges from
                the Oracle Berkeley DB API.  If you prefer to have the get and
                set methods raise an exception when a key is not found,
                use this method to tell them to do so.</p>
<p>                Calling this method on a DBEnv object will set the default
                for all DB's later created within that environment.
                Calling it on a DB object sets the behaviour for that
                DB only.</p>
<p>                The previous setting is returned.</p>
</dd>
<dt>        set_lg_bsize(size):</dt>
<dd>Set the size of the in-memory log buffer, in bytes.
                <a href="api_c/env_set_lg_bsize.html">More info...</a></dd>
<dt>        set_lg_dir(dir):</dt>
<dd>The path of a directory to be used as the location of
                logging files.  Log files created by the Log Manager
                subsystem will be created in this directory.
                <a href="api_c/env_set_lg_dir.html">More info...</a></dd>
<dt>        set_lg_max(size):</dt>
<dd>Set the maximum size of a single file in the log, in
                bytes.
                <a href="api_c/env_set_lg_max.html">More info...</a></dd>
<dt>        set_lg_regionmax(size):</dt>
<dd>Set the maximum size of a single region in the log, in
                bytes.
                <a href="api_c/env_set_lg_regionmax.html">More info...</a></dd>
<dt>        set_lk_detect(mode):</dt>
<dd>Set the automatic deadlock detection mode
                <a href="api_c/env_set_lk_detect.html">More info...</a></dd>
<dt>        set_lk_max(max):</dt>
<dd>Set the maximum number of locks.  (This method is
                deprecated.)
                <a href="api_c/env_set_lk_max.html">More info...</a></dd>
<dt>        set_lk_max_locks(max):</dt>
<dd>Set the maximum number of locks supported by the
                Berkeley DB lock subsystem.
                <a href="api_c/env_set_lk_max_locks.html">More info...</a></dd>
<dt>        set_lk_max_lockers(max):</dt>
<dd>Set the maximum number of simultaneous locking
                entities supported by the Berkeley DB lock subsystem.
                <a href="api_c/env_set_lk_max_lockers.html">More info...</a></dd>
<dt>        set_lk_max_objects(max):</dt>
<dd>Set the maximum number of simultaneously locked
                objects supported by the Berkeley DB lock subsystem.
                <a href="api_c/env_set_lk_max_lockers.html">More info...</a></dd>
<dt>        set_mp_mmapsize(size):</dt>
<dd>Files that are opened read-only in the memory pool
                (and that satisfy a few other criteria) are, by
                default, mapped into the process address space instead
                of being copied into the local cache.  This can result
                in better-than-usual performance, as available virtual
                memory is normally much larger than the local cache,
                and page faults are faster than page copying on many
                systems.  However, in the presence of limited virtual
                memory it can cause resource starvation, and in the
                presence of large databases, it can result in immense
                process sizes.<p>                This method sets the maximum file size, in bytes, for
                a file to be mapped into the process address space.
                If no value is specified, it defaults to 10MB.
                <a href="api_c/env_set_mp_mmapsize.html">More info...</a></p>
</dd>
<dt>        log_archive(flags=0):</dt>
<dd>Returns a list of log or database file names.  By
                default, log_archive returns the names of all of the
                log files that are no longer in use (e.g., no longer
                involved in active transactions), and that may safely
                be archived for catastrophic recovery and then removed
                from the system.
                <a href="api_c/log_archive.html">More info...</a></dd>
<dt>        lock_detect(atype, flags=0):</dt>
<dd>Run one iteration of the deadlock detector, returns
                the number of transactions aborted.
                <a href="api_c/lock_detect.html">More info...</a></dd>
<dt>        lock_get(locker, obj, lock_mode, flags=0):</dt>
<dd>Aquires a lock and returns a handle to it as a DBLock
                object.  The locker parameter is an integer
                representing the entity doing the locking, and obj is a
                string representing the item to be locked.
                <a href="api_c/lock_get.html">More info...</a></dd>
<dt>        lock_id():</dt>
<dd>Aquires a locker id, guaranteed to be unique across
                all threads and processes that have the DBEnv open.
                <a href="api_c/lock_id.html">More info...</a></dd>
<dt>        lock_put(lock):</dt>
<dd>Release the lock.
                <a href="api_c/lock_put.html">More info...</a></dd>
<dt>        lock_stat(flags=0):</dt>
<dd>Returns a dictionary of locking subsystem statistics
                with the following keys:<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="middle"><p> lastid        </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Last allocated lock ID.             </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nmodes        </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of lock modes.               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxlocks      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of locks possible.   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxlockers    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of lockerspossible.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxobjects    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of objects possible. </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nlocks        </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of current locks.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxnlocks     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of locks at once.    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nlockers      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of current lockers.          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nobjects      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of current objects.          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxnobjects   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of objects at once.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxnlockers   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Maximum number of lockers at once.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nrequests     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Total number of locks requested.    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nreleases     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Total number of locks released.     </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> nnowaits      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Total number of lock requests that  
  failed because of DB_LOCK_NOWAIT.   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> nconflicts    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Tot number of locks not immediately 
  available due to conflicts.         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> ndeadlocks    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of deadlocks detected.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> regsize       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Size of the region.                 </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> region_wait   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of times a thread of control 
  was forced to wait before obtaining 
  the region lock.                    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> region_nowait </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of times a thread of control 
  was able to obtain the region lock  
  without waiting.                    </p>
</td>
</tr>
</table>
</dd>
</dl>
<h3>                <a href="api_c/lock_stat.html">More info...</a></h3>
<dl>
<dt>        set_tx_max(max):</dt>
<dd>Set the maximum number of active transactions
                <a href="api_c/env_set_tx_max.html">More info...</a></dd>
<dt>        txn_begin(parent=None, flags=0):</dt>
<dd>Creates and begins a new transaction.  A DBTxn object
                is returned.
                <a href="api_c/txn_begin.html">More info...</a></dd>
<dt>        txn_checkpoint(kbyte=0, min=0, flag=0):</dt>
<dd>Flushes the underlying memory pool, writes a
                checkpoint record to the log and then flushes the log.
                <a href="api_c/txn_checkpoint.html">More info...</a></dd>
<dt>        txn_stat():</dt>
<dd>Return a dictionary of transaction statistics with the
                following keys:<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="top"><p> time_ckp     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Time the last completed checkpoint finished 
  (as the number of seconds since the Epoch,  
  returned by the IEEE/ANSI Std 1003.1 POSIX  
  time interface).                            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> last_txnid   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Last transaction ID allocated.              </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxtxns      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Max number of active transactions possible. </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nactive      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of transactions currently active.    </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> maxnactive   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Max number of active transactions at once.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nbegins      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of transactions that have begun.     </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> naborts      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of transactions that have aborted.   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> ncommits     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of transactions that have committed. </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> regsize      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Size of the region.                         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> region_wait  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of times that a thread of control    
  was forced to wait before obtaining the     
  region lock.                                </p>
</td>
</tr>
<tr>
<td colspan="1" align="right" valign="top"><p> region_nowait</p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of times that a thread of control    
  was able to obtain the region lock without  
  waiting.                                    </p>
</td>
</tr>
</table>
<p>                <a href="api_c/txn_stat.html">More info...</a></p>
</dd>
</dl>
<h3>    DB Methods</h3>
<dl>
<dt>        DB(dbEnv=None, flags=0)</dt>
<dd>Constructor.
                <a href="api_c/db_create.html">More info...</a></dd>
<dt>        append(data, txn=None)</dt>
<dd>A convenient version of put() that can be used for
                Recno or Queue databases.  The DB_APPEND flag is
                automatically used, and the record number is
                returned.
                <a href="api_c/db_put.html#DB_APPEND">More info...</a></dd>
<dt>        associate(secondaryDB, callback, flags=0)</dt>
<dd>Used to associate secondaryDB to act as a secondary
                index for this (primary) database.  The callback
                parameter should be a reference to a Python callable
                object that will consruct and return the secondary key
                or DB_DONOTINDEX if the item should not be indexed.
                The parameters the callback will receive are the
                primaryKey and primaryData values.
                <a href="api_c/db_associate.html">More info...</a></dd>
<dt>        close(flags=0)</dt>
<dd>Flushes cached data and closes the database
                <a href="api_c/db_close.html">More info...</a></dd>
<dt>        consume(txn=None, flags=0)</dt>
<dd>For a database with the Queue access method, returns
                the record number and data from the first available
                record and deletes it from the queue.
                <a href="api_c/db_get.html#DB_CONSUME">More info...</a></dd>
<dt>        consume_wait(txn=None, flags=0)</dt>
<dd>For a database with the Queue access method, returns
                the record number and data from the first available
                record and deletes it from the queue.  If the Queue
                database is empty, the thread of control will wait
                until there is data in the queue before returning.
                <a href="api_c/db_get.html#DB_CONSUME_WAIT">More info...</a></dd>
<dt>        cursor(txn=None, flags=0)</dt>
<dd>Create a cursor on the DB and returns a DBCursor
                object.  If a transaction is passed then the cursor
                can only be used within that transaction and you
                <em>must</em> be sure to close the cursor before commiting
                the transaction.
                <a href="api_c/db_cursor.html">More info...</a></dd>
<dt>        delete(key, txn=None, flags=0)</dt>
<dd>Removes a key/data pair from the database
                <a href="api_c/db_del.html">More info...</a></dd>
<dt>        fd()</dt>
<dd>Returns a file descriptor for the database
                <a href="api_c/db_fd.html">More info...</a></dd>
<dt>        get(key, default=None, txn=None, flags=0, dlen=-1, doff=-1)</dt>
<dd>Returns the data object associated with key.  If key
                is an integer then the DB_SET_RECNO flag is
                automatically set for BTree databases and the actual
                key and the data value are returned as a tuple.  If
                default is given then it is returned if the key is not
                found in the database.  Partial records can be read
                using dlen and doff, however be sure to not read
                beyond the end of the actual data or you may get
                garbage.
                <a href="api_c/db_get.html">More info...</a></dd>
<dt>        get_both(key, data, txn=None, flags=0)</dt>
<dd>A convenient version of get() that automatically sets
                the DB_GET_BOTH flag, and which will be successful
                only if both the key and data value are found in the
                database.  (Can be used to verify the presence of a
                record in the database when duplicate keys are
                allowed.)
                <a href="api_c/db_get.html#DB_GET_BOTH">More info...</a></dd>
<dt>        get_byteswapped()</dt>
<dd>May be used to determine if the database was created
                on a machine with the same endianess as the current
                machine.
                <a href="api_c/db_get_byteswapped.html">More info...</a></dd>
<dt>        get_size(key, txn=None)</dt>
<dd>Return the size of the data object associated with key.</dd>
<dt>        get_type()</dt>
<dd>Return the database's access method type
                <a href="api_c/db_get_type.html">More info...</a></dd>
<dt>        join(cursorList, flags=0)</dt>
<dd>Create and return a specialized cursor for use in
                performing joins on secondary indices
                <a href="api_c/db_join.html">More info...</a></dd>
<dt>        key_range(key, txn=None, flags=0)</dt>
<dd>Returns an estimate of the proportion of keys that are
                less than, equal to and greater than the specified key.
                <a href="api_c/db_key_range.html">More info...</a></dd>
<dt>        open(filename, dbname=None, dbtype=DB_UNKNOWN, flags=0, mode=0660)</dt>
<dd>Opens the database named dbname in the file named
                fileName. The dbname argument is optional and allows
                applications to have multiple logical databases in a
                single physical file. It is an error to attempt to
                open a second database in a file that was not
                initially created using a database name. In-memory
                databases never intended to be shared or preserved on
                disk may be created by setting both the fileName and
                dbName arguments to None.
                <a href="api_c/db_open.html">More info...</a></dd>
<dt>        put(key, data, txn=None, flags=0, dlen=-1, doff=-1)</dt>
<dd>Stores the key/data pair in the database.  If the
                DB_APPEND flag is used and the database is using the
                Recno or Queue access method then the record number
                allocated to the data is returned.  Partial data
                objects can be written using dlen and doff.
                <a href="api_c/db_put.html">More info...</a></dd>
<dt>        remove(filename, dbname=None, flags=0)</dt>
<dd>Remove a database
                <a href="api_c/db_remove.html">More info...</a></dd>
<dt>        rename(filename, dbname, newname, flags=0)</dt>
<dd>Rename a database
                <a href="api_c/db_rename.html">More info...</a></dd>
<dt>        set_bt_compare(compareFunc)</dt>
<dd>		Set the B-Tree database comparison function.  This
                can only be called once before the database has
                been opened.  compareFunc takes two arguments:
                (left key string, right key string)
                It must return a -1, 0, 1 integer similar to cmp.
                You can shoot your database in the foot, beware!
                Read the BerkeleyDB docs for the full details of
                how the comparison function MUST behave.
                <a href="api_c/db_set_bt_compare.html">More info...</a></dd>
<dt>        set_bt_minkey(minKeys)</dt>
<dd>Set the minimum number of keys that will be stored on
                any single BTree page
                <a href="api_c/db_set_bt_minkey.html">More info...</a></dd>
<dt>        set_cachesize(gbytes, bytes, ncache=0)</dt>
<dd>Set the size of the database's shared memory buffer pool
                <a href="api_c/db_set_cachesize.html">More info...</a></dd>
<dt>        set_get_returns_none(flag):</dt>
<dd>Controls what get and related methods do when a key is
                not found.<p>                See the DBEnv set_get_returns_none documentation.</p>
<p>                The previous setting is returned.</p>
</dd>
<dt>        set_flags(flags)</dt>
<dd>Set additional flags on the database before opening.
                <a href="api_c/db_set_flags.html">More info...</a></dd>
<dt>        set_h_ffactor(ffactor)</dt>
<dd>Set the desired density within the hash table
                <a href="api_c/db_set_h_ffactor.html">More info...</a></dd>
<dt>        set_h_nelem(nelem)</dt>
<dd>Set an estimate of the final size of the hash table
                <a href="api_c/db_set_h_nelem.html">More info...</a></dd>
<dt>        set_lorder(lorder)</dt>
<dd>Set the byte order for integers in the stored database
                metadata.
                <a href="api_c/db_set_lorder.html">More info...</a></dd>
<dt>        set_pagesize(pagesize)</dt>
<dd>Set the size of the pages used to hold items in the
                database, in bytes.
                <a href="api_c/db_set_pagesize.html">More info...</a></dd>
<dt>        set_re_delim(delim)</dt>
<dd>Set the delimiting byte used to mark the end of a
                record in the backing source file for the Recno access
                method.
                <a href="api_c/db_set_re_delim.html">More info...</a></dd>
<dt>        set_re_len(length)</dt>
<dd>For the Queue access method, specify that the records
                are of length length.  For the Recno access method,
                specify that the records are fixed-length, not byte
                delimited, and are of length length.
                <a href="api_c/db_set_re_len.html">More info...</a></dd>
<dt>        set_re_pad(pad)</dt>
<dd>Set the padding character for short, fixed-length
                records for the Queue and Recno access methods.
                <a href="api_c/db_set_re_pad.html">More info...</a></dd>
<dt>        set_re_source(source)</dt>
<dd>Set the underlying source file for the Recno access method
                <a href="api_c/db_set_re_source.html">More info...</a></dd>
<dt>        set_q_extentsize(extentsize)</dt>
<dd>Set the size of the extents used to hold pages in a
                Queue database, specified as a number of pages. Each
                extent is created as a separate physical file. If no
                extent size is set, the default behavior is to create
                only a single underlying database file.
                <a href="api_c/db_set_q_extentsize.html">More info...</a></dd>
<dt>        stat(flags=0)</dt>
<dd>Return a dictionary containing database
                statistics with the following keys.<p>                For Hash databases:</p>
<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="top"><p> magic     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Magic number that identifies the file as a Hash 
  database.                                       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> version   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Version of the Hash database.                   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nkeys     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of unique keys in the database.          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> ndata     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of key/data pairs in the database.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> pagesize  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Underlying Hash database page (& bucket) size.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> nelem     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Estimated size of the hash table specified at   
  database creation time.                         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> ffactor   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Desired fill factor (number of items per bucket)
  specified at database creation time.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> buckets   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of hash buckets.                         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> free      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of pages on the free list.               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> bfree     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free on bucket pages.           </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> bigpages  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of big key/data pages.                   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> big_bfree </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free on big item pages.         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> overflows </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of overflow pages (overflow pages are    
  pages that contain items that did not fit in    
  the main bucket page).                          </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> ovfl_free </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free on overflow pages.         </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> dup       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of duplicate pages.                      </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> dup_free  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free on duplicate pages.        </p>
</td>
</tr>
</table>
<p>                For BTree and Recno databases:</p>
<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="top"><p> magic       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Magic number that identifies the file as a    
  Btree database.                               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> version     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Version of the Btree database.                </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> nkeys       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  For the Btree Access Method, the number of    
  unique keys in the database.     <p>          
  For the Recno Access Method, the number of    
  records in the database. If the database has  
  been configured to not re-number records      
  during deletion, the number of records may    
  include records that have been deleted.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="top"><p> ndata       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  For the Btree Access Method, the number of    
  key/data pairs in the database,  <p>          
  For the Recno Access Method, the number of    
  records in the database. If the database has  
  been configured to not re-number records      
  during deletion, the number of records may    
  include records that have been deleted.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> pagesize    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Underlying database page size.                </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> minkey      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Minimum keys per page.                        </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> re_len      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Length of fixed-length records.               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> re_pad      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Padding byte value for fixed-length records.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> levels      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of levels in the database.             </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> int_pg      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of database internal pages.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> leaf_pg     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of database leaf pages.                </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> dup_pg      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of database duplicate pages.           </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> over_pg     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of database overflow pages.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> free        </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of pages on the free list.             </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> int_pgfree  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Num of bytes free in database internal pages. </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> leaf_pgfree </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free in database leaf pages.  </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> dup_pgfree  </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Num bytes free in database duplicate pages.   </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> over_pgfree </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Num of bytes free in database overflow pages. </p>
</td>
</tr>
</table>
<p>                For Queue databases:</p>
<table border="1" cellpadding="2">
<tr>
<td colspan="1" align="left" valign="top"><p> magic       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Magic number that identifies the file as a    
  Queue database.                               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> version     </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Version of the Queue file type.               </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> nkeys       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of records in the database.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> ndata       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of records in the database.            </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> pagesize    </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Underlying database page size.                </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> pages       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of pages in the database.              </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> re_len      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Length of the records.                        </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> re_pad      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Padding byte value for the records.           </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> pgfree      </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Number of bytes free in database pages.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> start       </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Start offset.                                 </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> first_recno </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  First undeleted record in the database.       </p>
</td>
</tr>
<tr>
<td colspan="1" align="left" valign="middle"><p> cur_recno   </p>
</td>
<td colspan="1" align="left" valign="middle"><p>  Last allocated record number in the database. </p>
</td>
</tr>
</table>
<p>                <a href="api_c/db_stat.html">More info...</a></p>
</dd>
<dt>        sync(flags=0)</dt>
<dd>Flushes any cached information to disk
                <a href="api_c/db_sync.html">More info...</a></dd>
<dt>        truncate(txn=None, flags=0)</dt>
<dd>Empties the database, discarding all records it
                contains. The number of records discarded from the
                database is returned.
                <a href="api_c/db_truncate.html">More info...</a></dd>
<dt>        upgrade(filename, flags=0)</dt>
<dd>Upgrades all of the databases included in the file
                filename, if necessary.
                <a href="api_c/db_upgrade.html">More info...</a></dd>
<dt>        verify(filename, dbname=None, outfile=None, flags=0)</dt>
<dd>Verifies the integrity of all databases in the file
                specified by the filename argument, and optionally
                outputs the databases' key/data pairs to a file.
                <a href="api_c/db_verify.html">More info...</a></dd>
</dl>
<h3>    DB Mapping and Compatibility Methods</h3>
<p>        These methods of the DB type are for implementing the Mapping
        Interface, as well as others for making a DB behave as much
        like a dictionary as possible.  The main downside to using a
        DB as a dictionary is you are not able to specify a transaction
        object.</p>
<dl>
<dt>        DB_length()            [ usage: len(db) ]</dt>
<dd>Return the number of key/data pairs in the database.</dd>
<dt>        DB_subscript(key)      [ usage: db<a href="#refkey">[key]</a> ]</dt>
<dd>Return the data associated with key.</dd>
<dt>        DB_ass_sub(key, data)  [ usage: db<a href="#refkey">[key]</a> = data ]</dt>
<dd>Assign or update a key/data pair, or delete a key/data
                pair if data is NULL.</dd>
<dt>        keys(txn=None)</dt>
<dd>Return a list of all keys in the database.  Warning:
                this method traverses the entire database so it can
                possibly take a long time to complete.</dd>
<dt>        items(txn=None)</dt>
<dd>Return a list of tuples of all key/data pairs in the
                database.  Warning: this method traverses the entire
                database so it can possibly take a long time to
                complete.</dd>
<dt>        values(txn=None)</dt>
<dd>Return a list of all data values in the database.
                Warning: this method traverses the entire database so
                it can possibly take a long time to complete.</dd>
<dt>        has_key(key, txn=None)</dt>
<dd>Returns true if key is present in the
                database.</dd>
</dl>
<h3>    DBCursor Methods</h3>
<dl>
<dt>        close()</dt>
<dd>Discards the cursor.  If the cursor is created within
                a transaction then you <em>must</em> be sure to close the
                cursor before commiting the transaction.
                <a href="api_c/dbc_close.html">More info...</a></dd>
<dt>        count(flags=0)</dt>
<dd>Returns a count of the number of duplicate data items
                for the key referenced by the cursor.
                <a href="api_c/dbc_count.html">More info...</a></dd>
<dt>        delete(flags=0)</dt>
<dd>Deletes the key/data pair currently referenced by the
                cursor.
                <a href="api_c/dbc_del.html">More info...</a></dd>
<dt>        dup(flags=0)</dt>
<dd>Create a new cursor
                <a href="api_c/dbc_del.html">More info...</a></dd>
<dt>        put(key, data, flags=0, dlen=-1, doff=-1)</dt>
<dd>Stores the key/data pair into the database. Partial data
                records can be written using dlen and doff.
                <a href="api_c/dbc_put.html">More info...</a></dd>
<dt>        get(flags, dlen=-1, doff=-1)</dt>
<dd>See get(key, data, flags, dlen=-1, doff=-1) below.</dd>
<dt>        get(key, flags, dlen=-1, doff=-1)</dt>
<dd>See get(key, data, flags, dlen=-1, doff=-1) below.</dd>
<dt>        get(key, data, flags, dlen=-1, doff=-1)</dt>
<dd>Retrieves key/data pairs from the database using the
                 cursor.  All the specific functionalities of the get
                 method are actually provided by the various methods
                 below, which are the preferred way to fetch data
                 using the cursor.  These generic interfaces are only
                 provided as an inconvenience.  Partial data records are
                 returned if dlen and doff are used in this method and in
                 many of the specific methods below.
                 <a href="api_c/dbc_get.html">More info...</a></dd>
</dl>
<h3>    DBCursor Get Methods</h3>
<p>        These DBCursor methods are all wrappers around the get()
        function in the C API.</p>
<dl>
<dt>        current(flags=0, dlen=-1, doff=-1)</dt>
<dd>Returns the key/data pair currently referenced by the
                cursor.
                <a href="api_c/dbc_get.html#DB_CURRENT">More info...</a></dd>
<dt>        get_current_size()</dt>
<dd>Returns length of the data for the current entry referenced
                by the cursor.</dd>
<dt>        first(flags=0, dlen=-1, doff=-1)</dt>
<dd>Position the cursor to the first key/data pair and
                return it.
                <a href="api_c/dbc_get.html#DB_FIRST">More info...</a></dd>
<dt>        last(flags=0, dlen=-1, doff=-1)</dt>
<dd>Position the cursor to the last key/data pair and
                return it.
                <a href="api_c/dbc_get.html#DB_LAST">More info...</a></dd>
<dt>        next(flags=0, dlen=-1, doff=-1)</dt>
<dd>Position the cursor to the next key/data pair and
                return it.
                <a href="api_c/dbc_get.html#DB_NEXT">More info...</a></dd>
<dt>        prev(flags=0, dlen=-1, doff=-1)</dt>
<dd>Position the cursor to the previous key/data pair and
                return it.
                <a href="api_c/dbc_get.html#DB_PREV">More info...</a></dd>
<dt>        consume(flags=0)</dt>
<dd>For a database with the Queue access method, returns
                the record number and data from the first available
                record and deletes it from the queue.<p>                <em>NOTE:</em> This method is deprecated in Berkeley DB
                version 3.2 in favor of the new consume method in the
                DB class.</p>
</dd>
<dt>        get_both(key, data, flags=0)</dt>
<dd>Like set() but positions the cursor to the record
                matching both key and data.  (An alias for this is
                set_both, which makes more sense to me...)
                <a href="api_c/dbc_get.html#DB_GET_BOTH">More info...</a></dd>
<dt>        get_recno()</dt>
<dd>Return the record number associated with the cursor.
                The database must use the BTree access method and have
                been created with the DB_RECNUM flag.
                <a href="api_c/dbc_get.html#DB_GET_RECNO">More info...</a></dd>
<dt>        join_item()</dt>
<dd>For cursors returned from the DB.join method, returns
                the combined key value from the joined cursors.
                <a href="api_c/dbc_get.html#DB_JOIN_ITEM">More info...</a></dd>
<dt>        next_dup(flags=0, dlen=-1, doff=-1)</dt>
<dd>If the next key/data pair of the database is a
                duplicate record for the current key/data pair, the
                cursor is moved to the next key/data pair of the
                database, and that pair is returned.
                <a href="api_c/dbc_get.html#DB_NEXT_DUP">More info...</a></dd>
<dt>        next_nodup(flags=0, dlen=-1, doff=-1)</dt>
<dd>The cursor is moved to the next non-duplicate key/data
                pair of the database, and that pair is returned.
                <a href="api_c/dbc_get.html#DB_NEXT_NODUP">More info...</a></dd>
<dt>        prev_nodup(flags=0, dlen=-1, doff=-1)</dt>
<dd>The cursor is moved to the previous non-duplicate
                key/data pair of the database, and that pair is
                returned.
                <a href="api_c/dbc_get.html#DB_PREV_NODUP">More info...</a></dd>
<dt>        set(key, flags=0, dlen=-1, doff=-1)</dt>
<dd>Move the cursor to the specified key in the database
                and return the key/data pair found there.
                <a href="api_c/dbc_get.html#DB_SET">More info...</a></dd>
<dt>        set_range(key, flags=0, dlen=-1, doff=-1)</dt>
<dd>Identical to set() except that in the case of the BTree
                access method, the returned key/data pair is the
                smallest key greater than or equal to the specified
                key (as determined by the comparison function),
                permitting partial key matches and range searches.
                <a href="api_c/dbc_get.html#DB_SET_RANGE">More info...</a></dd>
<dt>        set_recno(recno, flags=0, dlen=-1, doff=-1)</dt>
<dd>Move the cursor to the specific numbered record of the
                database, and return the associated key/data pair.
                The underlying database must be of type Btree and it
                must have been created with the DB_RECNUM flag.
                <a href="api_c/dbc_get.html#DB_SET_RECNO">More info...</a></dd>
<dt>        set_both(key, data, flags=0)</dt>
<dd>See get_both().  The only difference in behaviour
                can be disabled using set_get_returns_none(2).
                <a href="api_c/dbc_get.html#DB_GET_BOTH">More info...</a></dd>
</dl>
<h3>    DBTxn Methods</h3>
<dl>
<dt>        abort()</dt>
<dd>Aborts the transaction
                <a href="api_c/txn_abort.html">More info...</a></dd>
<dt>        commit(flags=0)</dt>
<dd>Ends the transaction, committing any changes to the
                databases.
                <a href="api_c/txn_commit.html">More info...</a></dd>
<dt>        id()</dt>
<dd>The txn_id function returns the unique transaction id
                associated with the specified transaction.
                <a href="api_c/txn_id.html">More info...</a></dd>
<dt>        prepare(gid)</dt>
<dd>Initiates the beginning of a two-phase commit.
                Begining with BerkeleyDB 3.3 a global identifier
                paramater is required, which is a value unique across
                all processes involved in the commit.  It must be a
                string of DB_XIDDATASIZE bytes.
                <a href="api_c/txn_prepare.html">More info...</a></dd>
</dl>
<h3>    DBLock</h3>
<p>        The DBLock objects have no methods or attributes.  They are
        just opaque handles to the lock in question.</p>
<p><hr></p>
<p>Document Version: $Id: bsddb3.html 329 2008-03-06 18:40:43Z jcea $</p>
<p>This is a StructuredTextNG document.  To see the original, <a href="bsddb3.txt">click
here</a></p>
<p></td></tr></table></body></html></p>
</body>
</html>
